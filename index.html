<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Worry Brain Game</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap" rel="stylesheet">

<style>
body {
  font-family: "Poppins", sans-serif;
  background: url("https://static.wixstatic.com/media/b668a8_eefb96f2f9cf49f18dccb579de6c263b~mv2.jpg") no-repeat center center fixed;
  background-size: cover;
  margin: 0;
  padding: 20px;
}

/* START SCREEN */
#startScreen {
  text-align: center;
  margin-top: 80px;
  color: white;
}

.name-input {
  padding: 12px;
  font-size: 18px;
  border-radius: 12px;
  border: none;
  margin: 8px;
  width: 240px;
}

#startBtn {
  padding: 20px 50px;
  font-size: 26px;
  border-radius: 20px;
  font-weight: 800;
  border: none;
  cursor: pointer;
}

/* GAME WRAPPER */
#gameWrapper {
  display: none;
  justify-content: center;
  margin-top: 10px;
}

/* SCOREBOARD */
.scoreboard {
  display: flex;
  gap: 14px;
  justify-content: center;
  margin-bottom: 18px;
}

.player {
  background: rgba(255,255,255,.92);
  border-radius: 14px;
  padding: 8px 14px;
  min-width: 120px;
  text-align: center;
  font-weight: 800;
  border: 3px solid transparent;
}

.player.active {
  border-color: black;
  transform: scale(1.08);
}

.player-score {
  font-size: 26px;
}

/* MAIN LAYOUT */
#cardZone {
  display: flex;
  justify-content: center;
}

/* MAIN DECK */
:root {
  --cardSize: 360px;
  --cardRadius: 36px;
}

#cardPileContainer {
  position: relative;
  width: var(--cardSize);
  height: var(--cardSize);
  cursor: pointer;
}

.pile-card {
  position: absolute;
  width: var(--cardSize);
  height: var(--cardSize);
  border-radius: var(--cardRadius);
  background-image: url("https://static.wixstatic.com/media/b668a8_abdbe631fe6b46ef9345153bf9c75499~mv2.jpg");
  background-size: cover;
  box-shadow: 0 6px 18px rgba(0,0,0,.45);
}

.pile-card:nth-child(1) { top:0; left:0; }
.pile-card:nth-child(2) { top:10px; left:10px; }
.pile-card:nth-child(3) { top:20px; left:20px; }

#pileLabel {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 30px;
  font-weight: 800;
  color: white;
  text-shadow: 0 2px 5px rgba(0,0,0,.8);
  pointer-events: none;
}

/* CARD DISPLAY */
#cardDisplay {
  position: absolute;
  width: 500px;
  height: 500px;
  left: -100px;
  top: -65px;
  background: rgba(255,255,255,.97);
  border-radius: 36px;
  padding: 38px;
  display: none;
  align-items: center;
  justify-content: center;
  text-align: center;
  font-size: 34px;
  font-weight: 600;
  line-height: 1.28;
  overflow-y: auto;
  z-index: 10;
  opacity: 0;
  transform: translateY(24px) scale(0.98);
  transition: opacity 480ms ease, transform 480ms ease;
}

#cardDisplay.show {
  opacity: 1;
  transform: translateY(0) scale(1);
}

#cardDisplay.long {
  font-size: 28px;
}

#cardDisplay.active-card {
  border: 2px solid rgba(0,0,0,0.16);
  box-shadow: 0 14px 30px rgba(0,0,0,0.26);
}

/* BUTTONS */
#scoringButtons {
  margin-top: 150px;
  text-align: center;
}

.score-btn {
  padding: 14px 26px;
  font-size: 20px;
  font-weight: 800;
  border-radius: 16px;
  border: none;
  cursor: pointer;
  margin: 6px;
}

.award { background:#00b894; color:white; }
.pass { background:#fd9644; color:white; }
.undo { background:#636e72; color:white; }
.restart { background:#0984e3; color:white; }
</style>
</head>

<body>

<div id="startScreen">
  <h1>Worry Brain Game</h1>
  <input class="name-input" id="name1" placeholder="Player 1 Name"><br>
  <input class="name-input" id="name2" placeholder="Player 2 Name"><br>
  <button id="startBtn">Start Game</button>
</div>

<div id="gameWrapper">
  <div>
    <div class="scoreboard">
      <div class="player active" id="p1Box">
        <span id="p1Name">Player 1</span><br>
        <span class="player-score" id="s1">0</span>
      </div>
      <div class="player" id="p2Box">
        <span id="p2Name">Player 2</span><br>
        <span class="player-score" id="s2">0</span>
      </div>
    </div>

    <div id="cardZone">
      <div>
        <div id="cardPileContainer" onclick="drawCard()">
          <div class="pile-card"></div>
          <div class="pile-card"></div>
          <div class="pile-card"></div>
          <div id="cardDisplay"></div>
          <div id="pileLabel">Draw</div>
        </div>

        <div id="scoringButtons">
          <button class="score-btn undo" onclick="undo()">UNDO</button>
          <button class="score-btn award" onclick="awardPoint()">Award</button>
          <button class="score-btn pass" onclick="passTurn()">Pass</button>
          <button class="score-btn restart" onclick="restartGame(true)">RESTART</button>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
const CARD_ANIM_MS = 480;

const CARDS = [
  "Share a worry that hasn’t gotten smaller, felt better, or gone away no matter what you (or others) have tried.",
  "Describe a worry you used to have but don’t have anymore.",
  "Name a worry that shows up at night when you’re trying to fall asleep.",
  "Imagine you could DELETE one worry from your mind—which one would you choose?",
  "Share something kind or helpful someone has said to you when you were feeling worried.",
  "Share an example of something unhelpful someone said to you (or might say) when you were feeling worried.",
  "Describe how your body feels when you start to feel worried or anxious.",
  "Name someone you trust enough to share your worries with.",
  "Tell about a worry that turned out to be smaller than you expected.",
  "Describe a place or person that makes you feel calm and safe. What makes it special?",
  "Name a worry you sometimes have about your family.",
  "Name a worry you sometimes have about your friends.",
  "Name a worry you sometimes have about school.",
  "Name a worry you sometimes have about yourself.",
  "PRACTICE — Take slow breaths. Inhale for 4, exhale for 5. Repeat 4 times and notice how your body feels.",
  "PRACTICE — Shake out nervous energy for 8 seconds, then relax and notice how your body feels.",
  "PRACTICE — Use the 5-4-3-2-1 grounding exercise.",
  "PRACTICE — Stretch like a cat or tense and relax like the Hulk. Notice how your body feels.",
  "PRACTICE — Say two kind things to yourself when you feel worried.",
  "DRAW IT OUT — Draw a calm, safe place and imagine being there for 10 seconds.",
  "DRAW IT OUT — Draw what anxiety feels like in your body.",
  "DRAW IT OUT — Make a comic showing before, during, and after a worry.",
  "ACT IT OUT — Change the worry channel to something calming or funny.",
  "ACT IT OUT — Help a friend whose worry brain is loud.",
  "ACT IT OUT — Give advice on managing worries.",
  "ACT IT OUT — Put a worry you can’t control into a box and set it aside.",
  "Describe a time worry got in the way of feeling safe or having fun.",
  "WRITE IT OUT — Write or draw a worry you don’t like to talk about.",
  "DRAW IT OUT — Draw two big worries and make them less powerful."
];

let drawPile = [];
let undoStack = [];
let currentPlayer = 1;
let scores = [0,0];
let lastCard = null;

function shuffle(arr) {
  for (let i = arr.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [arr[i], arr[j]] = [arr[j], arr[i]];
  }
}

function snapshot() {
  return {
    drawPile:[...drawPile],
    scores:[...scores],
    currentPlayer,
    lastCard,
    cardVisible: cardDisplay.style.display === "flex",
    cardText: cardDisplay.textContent
  };
}

function restore(s) {
  drawPile=[...s.drawPile];
  scores=[...s.scores];
  currentPlayer=s.currentPlayer;
  lastCard=s.lastCard;
  s1.textContent=scores[0];
  s2.textContent=scores[1];
  p1Box.classList.toggle("active",currentPlayer===1);
  p2Box.classList.toggle("active",currentPlayer===2);
  if(s.cardVisible){
    showCard(s.cardText);
  } else {
    hideCard(true);
  }
}

function drawCard(){
  if(cardDisplay.style.display==="flex") return;
  if(drawPile.length===0){ pileLabel.textContent="No Cards"; return; }
  undoStack.push(snapshot());
  lastCard=drawPile.pop();
  showCard(lastCard);
}

function showCard(text){
  cardDisplay.textContent=text;
  cardDisplay.classList.toggle("long", text.length>220);
  cardDisplay.style.display="flex";
  pileLabel.style.display="none";
  requestAnimationFrame(()=>cardDisplay.classList.add("show","active-card"));
}

function hideCard(immediate=false){
  cardDisplay.classList.remove("show","active-card");
  if(immediate){
    cardDisplay.style.display="none";
    pileLabel.style.display="flex";
  } else {
    setTimeout(()=>{cardDisplay.style.display="none"; pileLabel.style.display="flex";},CARD_ANIM_MS);
  }
}

function awardPoint(){
  if(!lastCard) return;
  undoStack.push(snapshot());
  scores[currentPlayer-1]++;
  document.getElementById("s"+currentPlayer).textContent=scores[currentPlayer-1];
  endTurn();
}

function passTurn(){
  if(!lastCard) return;
  undoStack.push(snapshot());
  endTurn();
}

function endTurn(){
  hideCard();
  setTimeout(()=>{
    lastCard=null;
    currentPlayer=currentPlayer===1?2:1;
    p1Box.classList.toggle("active",currentPlayer===1);
    p2Box.classList.toggle("active",currentPlayer===2);
    pileLabel.textContent=drawPile.length?"Draw":"No Cards";
  },CARD_ANIM_MS+40);
}

function undo(){
  if(!undoStack.length) return;
  restore(undoStack.pop());
}

function restartGame(){
  drawPile=[...CARDS];
  shuffle(drawPile);
  scores=[0,0];
  s1.textContent=0; s2.textContent=0;
  currentPlayer=1;
  p1Box.classList.add("active"); p2Box.classList.remove("active");
  lastCard=null;
  hideCard(true);
  pileLabel.textContent="Draw";
  undoStack=[];
}

startBtn.onclick=()=>{
  p1Name.textContent=name1.value||"Player 1";
  p2Name.textContent=name2.value||"Player 2";
  startScreen.style.display="none";
  gameWrapper.style.display="flex";
  restartGame();
};
</script>

</body>
</html>
